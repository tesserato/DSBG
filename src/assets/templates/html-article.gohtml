<!DOCTYPE html>
<html lang="{{.Settings.Lang}}">

<head>
    {{.Settings.AdditionalElementsTop}}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Dead Simple Blog Generator (dsbg)">
    <meta name="keywords" content="{{ stringsJoin .Art.Tags " , "}}">
    <meta name="description" content="{{ .Art.Description }}">
    <meta name="author" content="{{ .Settings.AuthorName }}">

    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:title" content="{{ .Art.Title }}" />
    <meta property="og:description" content="{{ .Art.Description }}" />
    <meta property="og:url" content="{{ .Settings.BaseUrl }}/{{ .Art.LinkToSelf }}" />
    <meta property="og:site_name" content="{{ .Settings.PublisherName }}" />
    <meta property="og:type" content="article" />
    {{if .Art.CoverImage}}
    <meta property="og:image" content="{{ .Settings.BaseUrl }}/{{ .Art.CoverImage }}" />
    {{end}}

    <!-- Article-specific Open Graph time metadata -->
    <meta property="article:published_time" content='{{ .Art.Created.Format "2006-01-02T15:04:05Z07:00" }}'>
    <meta property="article:modified_time" content='{{ .Art.Updated.Format "2006-01-02T15:04:05Z07:00" }}'>

    <!-- JSON-LD Article / BlogPosting / NewsArticle Schema -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{{ articleSchemaType .Art }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ .Settings.BaseUrl }}/{{ .Art.LinkToSelf }}"
  },
  "headline": "{{ .Art.Title }}",
  "description": "{{ .Art.Description }}",
  {{- if .Art.CoverImage }}
  "image": [
    "{{ .Settings.BaseUrl }}/{{ .Art.CoverImage }}"
  ],
  {{- end }}
  "datePublished": "{{ .Art.Created.Format "2006-01-02T15:04:05Z07:00" }}",
  "dateModified": "{{ .Art.Updated.Format "2006-01-02T15:04:05Z07:00" }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Settings.AuthorName }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ .Settings.PublisherName }}"{{if .Settings.PublisherLogoPath}},
    "logo": {
      "@type": "ImageObject",
      "url": "{{ .Settings.BaseUrl }}/{{ .Settings.PublisherLogoPath }}"
    }{{end}}
  }
}
    </script>

    <link rel="canonical" href="{{if .Art.CanonicalUrl}}{{.Art.CanonicalUrl}}{{else}}{{ .Settings.BaseUrl }}/{{ .Art.LinkToSelf }}{{end}}">
    <link rel="stylesheet" href="{{ genRelativeLink .Art.LinkToSelf "style.css"}}?v={{.Settings.BuildVersion}}">
    <link rel="icon" type="image/x-icon" href="{{genRelativeLink .Art.LinkToSelf "favicon.ico"}}">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/{{.Settings.HighlightTheme}}.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <title>{{.Art.Title}}</title>
</head>

<body>
    <header>
        <div class="articlelinks">
            <a href="{{.Settings.BaseUrl}}" {{if $.Settings.OpenInNewTab}}target="_blank" {{end}}> ‚óÅ {{.Settings.Title}}
            </a>
            <div class="sharebuttons">
                <a href="javascript:void(0);" title="Copy Markdown summary to clipboard"
                   onclick="copyMarkdownToClipboard(this)"
                   data-title="{{.Art.Title}}"
                   data-description="{{.Art.Description}}"
                   data-url="{{$.Settings.BaseUrl}}/{{.Art.LinkToSelf}}"
                   data-image-url="{{if .Art.CoverImage}}{{$.Settings.BaseUrl}}/{{.Art.CoverImage}}{{end}}"
                   data-tags="{{range $i, $tag := .Art.Tags}}{{if $i}},{{end}}{{$tag}}{{end}}">
                    <img src='{{genRelativeLink .Art.LinkToSelf "copy.svg"}}' alt="Copy article Markdown summary">
                </a>
                {{range .Settings.ShareButtons}}
                <a href="{{ buildShareUrl .UrlTemplate $.Art $.Settings }}" target="_blank" rel="noopener noreferrer" title="Share on {{ .Name }}" {{if isImage .Display}}class="share"{{end}}>
                    {{if isImage .Display}}
                        <img src="{{ genRelativeLink $.Art.LinkToSelf .Display }}" alt="Share on {{ .Name }}">
                    {{else}}
                        {{.Display}}
                    {{end}}
                </a>
                {{end}}
            </div>
        </div>
        <h1>{{.Art.Title}}</h1>
        <h2>{{.Art.Description}}</h2>
    </header>

    <main>
        <article>
            {{.Ctt}}
        </article>
    </main>

    {{.Settings.AdditionalElemensBottom}}

    <footer>
        <a href="https://tesserato.github.io/dsbg/" target="_blank">Created with Dead Simple Blog Generator</a>
    </footer>

    <!-- Ensure article pages have access to tag filters & copy-to-clipboard logic -->
    <script src='{{ genRelativeLink .Art.LinkToSelf "script.js"}}?v={{.Settings.BuildVersion}}' async defer></script>
</body>

</html>