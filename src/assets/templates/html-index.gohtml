<!DOCTYPE html>
<html lang="en">

<head>
    {{.Settings.AdditionalElementsTop}}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ .Settings.DescriptionMarkdown }}">
    <title>{{.Settings.Title}}</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="canonical" href="{{ .Settings.BaseUrl }}/index.html">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/{{ .Settings.HighlightTheme }}.min.css">
    <script src="https://unpkg.com/lunr/lunr.min.js"></script>
    <script src="search.js"></script>
</head>

<body>
    <header>
        <div class="articlelinks">
            <h1>
                {{.Settings.Title}}
            </h1>
            <div class="sharebuttons">
                <a href="rss.xml" target="_blank" title="RSS Feed">
                    <img src="rss.svg" alt="RSS feed icon">
                </a>
            </div>
        </div>
        <input type="text" id="search-input" placeholder="Search..." aria-label="Search articles">
        <section aria-live="polite" aria-label="Search results">
            <ul id="search-results"></ul>
        </section>
        <nav>
            {{range .PageList}}
            <a href="{{.LinkToSelf}}" {{if $.Settings.OpenInNewTab}}target="_blank" {{end}}>{{.Title}}</a>
            {{end}}
        </nav>
        <div class="description">
            {{.Settings.DescriptionHTML}}
        </div>
        <div id="buttons"></div>
        <aside></aside>
    </header>
    {{ $Settings := .Settings}}
    <main id="articles-container">
        {{range .ArticleList}}
        {{ $Article := . }}
        <div class="detail">
            <div class="headline">
                <a href="{{.LinkToSelf}}" {{if $Settings.OpenInNewTab}}target="_blank" {{end}}>
                    <h2>{{.Title}}</h2>
                </a>
                {{range .Tags}}
                <button class="on" type="button">{{.}}</button>
                {{end}}
                <div class="info">
                    <h3 class="date">⋆ {{.Created.Format $Settings.DateFormat}}</h3>
                    <h3 class="date">♰ {{.Updated.Format $Settings.DateFormat}}</h3>
                </div>
            </div>
            {{if .CoverImagePath}}
            <img src="{{.CoverImagePath}}" alt="{{.Title}}">
            {{end}}
            <p class="description">{{.Description}}</p>

            <div class="sharebuttons">
                <a href="javascript:void(0);" class="share" title="Copy Markdown summary to clipboard"
                   onclick="copyMarkdownToClipboard(this)"
                   data-title="{{.Title}}"
                   data-description="{{.Description}}"
                   data-url="{{$Settings.BaseUrl}}/{{.LinkToSelf}}"
                   data-image-url="{{if .CoverImagePath}}{{$Settings.BaseUrl}}/{{.CoverImagePath}}{{end}}"
                   data-tags="{{range $i, $tag := .Tags}}{{if $i}},{{end}}{{$tag}}{{end}}">
                    <img src="copy.svg" alt="Copy Markdown summary">
                </a>
                {{range $Settings.ShareButtons}}
                <a href="{{ buildShareUrl .UrlTemplate $Article $Settings }}" target="_blank" rel="noopener noreferrer" title="Share this post on {{ .Name }}" {{if isImage .Display}}class="share"{{end}}>
                    {{if isImage .Display}}
                    <img src="{{ genRelativeLink $Article.LinkToSelf .Display }}" alt="{{ .Name }} share icon">
                    {{else}}
                    {{.Display}}
                    {{end}}
                </a>
                {{end}}
            </div>
        </div>
        {{end}}
    </main>
    <script src="script.js" async defer></script>
    {{.Settings.AdditionalElemensBottom}}

    <footer>
        <a href="https://tesserato.github.io/dsbg/" target="_blank">Created with Dead Simple Blog Generator</a>
    </footer>
</body>

</html>
